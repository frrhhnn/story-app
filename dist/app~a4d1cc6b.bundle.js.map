{"version":3,"file":"app~a4d1cc6b.bundle.js","mappings":"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","sources":["webpack://story-app/./src/scripts/pages/app.js"],"sourcesContent":["import UrlParser from \"../routes/url-parser\";\nimport routes from \"../routes/routes\";\nimport { \n  createSkipLinkTemplate, \n  createNotificationButtonTemplate,\n  createInstallButtonTemplate,\n  showLoading, \n  hideLoading, \n  showResponseMessage \n} from \"../utils/template\";\nimport AuthAPI from \"../data/authAPI\";\nimport StoryAPI from \"../data/storyAPI\";\nimport StoryIdb from \"../data/database\";\nimport NotificationHelper from \"../utils/notification-helper\";\nimport PWAInstaller from \"../utils/pwa-installer\";\nimport NetworkStatus from \"../utils/network-status\";\n\nclass App {\n  constructor({ content }) {\n    this._content = content;\n    this._pageInstances = {};\n    this._isInitialized = false;\n    this._initializeApp();\n  }\n\n  async _initializeApp() {\n    try {\n      // Initialize network status first\n      await this._initializeNetworkStatus();\n      \n      // Then initialize the app shell\n      await this._initialAppShell();\n      \n      this._isInitialized = true;\n    } catch (error) {\n      console.error('Error initializing app:', error);\n      showResponseMessage('Terjadi kesalahan saat menginisialisasi aplikasi');\n    }\n  }\n\n  async _initializeNetworkStatus() {\n    return new Promise((resolve) => {\n      NetworkStatus.init();\n      NetworkStatus.registerCallback(async (isOnline) => {\n        if (isOnline) {\n          showResponseMessage('Koneksi kembali online');\n          await this._syncData();\n          // Re-render current page when coming back online\n          if (this._isInitialized) {\n            await this.renderPage();\n          }\n        } else {\n          showResponseMessage('Aplikasi dalam mode offline');\n        }\n      });\n      resolve();\n    });\n  }\n\n  async _syncData() {\n    try {\n      if (!AuthAPI.isLoggedIn()) return;\n      \n      if (!navigator.onLine) {\n        console.log('Device is offline, using cached data');\n        return;\n      }\n\n      showLoading();\n      const response = await StoryAPI.getInstance().getAllStories();\n      \n      if (!response.error && response.data?.stories) {\n        console.log('New stories available:', response.data.stories.length);\n        \n        // Only re-render if we're on the home page\n        const currentUrl = window.location.hash.slice(1);\n        if (this._isInitialized && (currentUrl === '' || currentUrl === '/home')) {\n          await this.renderPage();\n        }\n      } else {\n        console.warn('Failed to sync stories:', response.message);\n      }\n    } catch (error) {\n      console.error('Error syncing data:', error);\n    } finally {\n      hideLoading();\n    }\n  }\n\n  async _initialAppShell() {\n    try {\n      // Add skip link to body\n      document.body.insertAdjacentHTML('afterbegin', createSkipLinkTemplate());\n      \n      // Add notification button to navigation menu\n      const navigationList = document.querySelector('.app-bar__navigation ul');\n      if (navigationList) {\n        // Insert before logout button\n        const logoutItem = navigationList.querySelector('.logout-item');\n        if (logoutItem) {\n          const notificationItem = document.createElement('li');\n          notificationItem.classList.add('notification-item');\n          notificationItem.innerHTML = createNotificationButtonTemplate();\n          navigationList.insertBefore(notificationItem, logoutItem);\n        }\n      }\n      \n      // Setup UI elements\n      this._setupLogoutButton();\n      this._setupNotificationButton();\n      this._updateAuthElements();\n      this._setupSkipLink();\n      \n      // Initialize PWA installer\n      PWAInstaller.init();\n      \n      // Initialize push notification (non-blocking)\n      this._initializePushNotification().catch(console.error);\n    } catch (error) {\n      console.error('Error in _initialAppShell:', error);\n    }\n  }\n\n  async _initializePushNotification() {\n    try {\n      if (!AuthAPI.isLoggedIn()) {\n        console.log('User not logged in, skipping push notification initialization');\n        return;\n      }\n\n      console.log('Initializing push notification...');\n      \n      // Request notification permission\n      const permissionGranted = await NotificationHelper.requestPermission();\n      if (!permissionGranted) {\n        console.log('Notification permission not granted');\n        return;\n      }\n\n      // Register service worker if not already registered\n      if ('serviceWorker' in navigator) {\n        try {\n          // Register new service worker if not already registered\n          let registration = await navigator.serviceWorker.getRegistration();\n          \n          if (!registration) {\n            registration = await navigator.serviceWorker.register('./sw.js', {\n              scope: './'\n            });\n            console.log('Service Worker registered:', registration);\n          } else {\n            console.log('Using existing service worker registration');\n          }\n\n          // Wait for the service worker to be ready\n          await navigator.serviceWorker.ready;\n          console.log('Service Worker is ready');\n\n          // Check existing subscription\n          const subscription = await registration.pushManager.getSubscription();\n          if (subscription) {\n            console.log('Found existing push subscription');\n            \n            try {\n              // Verify subscription with server\n              const result = await AuthAPI.subscribePushNotification(subscription);\n              if (!result.error) {\n                console.log('Subscription verified with server');\n                this._updateNotificationButtonState(true);\n              } else {\n                console.log('Subscription not verified with server, resubscribing...');\n                // Try to resubscribe\n                const result = await NotificationHelper.toggleNotification();\n                if (result.success) {\n                  this._updateNotificationButtonState(result.subscribed);\n                }\n              }\n            } catch (error) {\n              console.warn('Error checking subscription, will retry later:', error);\n              // Don't throw error here, just log it\n            }\n          }\n        } catch (error) {\n          console.error('Service Worker registration failed:', error);\n          showResponseMessage('Gagal menginisialisasi notifikasi: ' + error.message);\n          return;\n        }\n      } else {\n        showResponseMessage('Browser Anda tidak mendukung notifikasi');\n        return;\n      }\n    } catch (error) {\n      console.error('Error initializing push notification:', error);\n      showResponseMessage('Gagal menginisialisasi notifikasi: ' + error.message);\n    }\n  }\n\n  _setupSkipLink() {\n    const skipLink = document.querySelector(\".skip-link\");\n    if (skipLink) { // Tambahkan pengecekan null\n      skipLink.addEventListener(\"click\", (event) => {\n        event.preventDefault();\n        skipLink.blur();\n        const mainContent = document.querySelector(\"#mainContent\");\n        if (mainContent) {\n          mainContent.focus();\n          mainContent.scrollIntoView();\n        }\n      });\n    } else {\n      console.warn(\"Skip link element not found\");\n    }\n  }\n\n  async _setupNotificationButton() {\n    const notificationButton = document.getElementById('notificationToggle');\n    if (!notificationButton) {\n      console.log('Notification button not found');\n      return;\n    }\n\n    try {\n      // Check if notification is supported\n      if (!NotificationHelper.isSupportedBrowser()) {\n        console.log('Browser tidak mendukung notifikasi');\n        notificationButton.style.display = 'none';\n        return;\n      }\n\n      // Check if user is logged in\n      if (!AuthAPI.isLoggedIn()) {\n        console.log('User not logged in, hiding notification button');\n        notificationButton.style.display = 'none';\n        return;\n      }\n\n      // Show button since we passed initial checks\n      notificationButton.style.display = 'flex';\n      notificationButton.classList.remove('hidden');\n\n      // Register service worker and check initial state\n      const registration = await navigator.serviceWorker.ready;\n      console.log('Service Worker ready for notification setup');\n      \n      // Check current subscription status\n      const subscription = await registration.pushManager.getSubscription();\n      console.log('Initial subscription status:', subscription ? 'Subscribed' : 'Not subscribed');\n      \n      // Update button state\n      this._updateNotificationButtonState(subscription !== null);\n\n      // Add click handler\n      notificationButton.addEventListener('click', async () => {\n        console.log('Notification button clicked');\n        \n        if (!AuthAPI.isLoggedIn()) {\n          showResponseMessage('Silakan login terlebih dahulu');\n          return;\n        }\n\n        try {\n          // Disable button while processing\n          notificationButton.disabled = true;\n          notificationButton.classList.add('loading');\n          \n          console.log('Toggling notification...');\n          const result = await NotificationHelper.toggleNotification();\n          console.log('Toggle result:', result);\n          \n          if (result.success) {\n            this._updateNotificationButtonState(result.subscribed);\n            console.log('Button state updated:', result.subscribed ? 'Subscribed' : 'Not subscribed');\n          }\n        } catch (error) {\n          console.error('Error handling notification toggle:', error);\n          showResponseMessage('Gagal mengatur notifikasi');\n        } finally {\n          // Re-enable button\n          notificationButton.disabled = false;\n          notificationButton.classList.remove('loading');\n        }\n      });\n    } catch (error) {\n      console.error('Error setting up notification button:', error);\n      notificationButton.style.display = 'none';\n    }\n  }\n\n  _updateNotificationButtonState(isSubscribed) {\n    const button = document.getElementById('notificationToggle');\n    if (!button) {\n      console.log('Button not found for state update');\n      return;\n    }\n\n    console.log('Updating button state:', isSubscribed ? 'Subscribed' : 'Not subscribed');\n    \n    const statusText = button.querySelector('.notification-status');\n    const icon = button.querySelector('i');\n\n    if (isSubscribed) {\n      button.classList.add('subscribed');\n      statusText.textContent = 'Nonaktifkan Notifikasi';\n      icon.className = 'fas fa-bell-slash';\n    } else {\n      button.classList.remove('subscribed');\n      statusText.textContent = 'Aktifkan Notifikasi';\n      icon.className = 'fas fa-bell';\n    }\n  }\n\n  _setupLogoutButton() {\n    const logoutButton = document.getElementById('logoutButton');\n    if (logoutButton) {\n      logoutButton.addEventListener('click', () => {\n        AuthAPI.logout();\n        window.location.hash = '#/login';\n        this._updateAuthElements();\n      });\n    }\n  }\n\n  _updateAuthElements() {\n    const isLoggedIn = AuthAPI.isLoggedIn();\n    \n    // Update body class for CSS selectors\n    if (isLoggedIn) {\n      document.body.classList.add('logged-in');\n    } else {\n      document.body.classList.remove('logged-in');\n    }\n    \n    // Update individual auth elements\n    const requiredAuthElements = document.querySelectorAll('[data-auth=\"required\"]');\n    const notRequiredAuthElements = document.querySelectorAll('[data-auth=\"not-required\"]');\n    \n    requiredAuthElements.forEach(element => {\n      element.style.display = isLoggedIn ? '' : 'none';\n    });\n    \n    notRequiredAuthElements.forEach(element => {\n      element.style.display = isLoggedIn ? 'none' : '';\n    });\n  }\n\n  // Menentukan rute mana yang memerlukan autentikasi\n  _needsAuthentication(url) {\n    // Daftar rute yang memerlukan autentikasi\n    const protectedRoutes = ['/', '/home', '/add', '/bookmark'];\n    const baseUrl = url.split('/:')[0]; // Handle parameterized routes\n    return protectedRoutes.includes(baseUrl);\n  }\n\n  // Menentukan rute mana yang hanya untuk pengguna yang belum login\n  _isAuthPage(url) {\n    const authPages = ['/login', '/register'];\n    return authPages.includes(url);\n  }\n\n  async renderPage() {\n    console.log('Starting page render');\n    const mainElement = document.querySelector(\"main\");\n    if (mainElement) {\n      mainElement.classList.add(\"transition-prepare\");\n    }\n\n    try {\n      let url = UrlParser.parseActiveUrlWithCombiner();\n      console.log('Current URL:', url);\n      const isLoggedIn = AuthAPI.isLoggedIn();\n      console.log('Is user logged in:', isLoggedIn);\n\n      // Handle authentication redirects\n      if (this._needsAuthentication(url) && !isLoggedIn) {\n        console.log('Protected route accessed without auth, redirecting to login');\n        window.location.hash = \"#/login\";\n        return;\n      }\n\n      if (this._isAuthPage(url) && isLoggedIn) {\n        console.log('Auth page accessed while logged in, redirecting to home');\n        window.location.hash = \"#/\";\n        return;\n      }\n\n      // Re-parse URL after potential redirect\n      url = UrlParser.parseActiveUrlWithCombiner();\n      const pageFactory = routes[url];\n\n      if (!pageFactory) {\n        console.error('No route found for URL:', url);\n        window.location.hash = \"#/\";\n        return;\n      }\n\n      // Get or create page instance\n      let page = this._pageInstances[url];\n      if (!page) {\n        console.log('Creating new page instance for:', url);\n        page = typeof pageFactory === \"function\" ? pageFactory() : pageFactory;\n        this._pageInstances[url] = page;\n      }\n\n      // Render page content\n      console.log('Rendering page content');\n      this._content.innerHTML = await page.render();\n      \n      // Wait for next frame to ensure DOM is updated\n      await new Promise(resolve => requestAnimationFrame(resolve));\n      \n      // Run afterRender\n      console.log('Running afterRender');\n      await page.afterRender();\n\n      // Update UI elements\n      this._setupLogoutButton();\n      this._updateAuthElements();\n      this._setupNotificationButton();\n\n      // Handle transitions\n      if (document.startViewTransition && mainElement) {\n        document.startViewTransition(() => {\n          mainElement.classList.remove(\"transition-prepare\");\n          mainElement.classList.add(\"transition-start\");\n          setTimeout(() => {\n            mainElement.classList.remove(\"transition-start\");\n          }, 300);\n        });\n      } else if (mainElement) {\n        mainElement.classList.remove(\"transition-prepare\");\n      }\n\n      // Focus main content\n      const mainContent = document.querySelector(\"#mainContent\");\n      if (mainContent) {\n        mainContent.focus();\n      }\n    } catch (error) {\n      console.error(\"Error rendering page:\", error);\n      this._content.innerHTML = `\n        <div class=\"error-container\">\n          <p class=\"error-message\">Terjadi kesalahan saat memuat halaman: ${error.message}</p>\n          <button onclick=\"window.location.hash='#/home'\" class=\"btn btn-primary\">Kembali ke Beranda</button>\n        </div>\n      `;\n    }\n  }\n}\n\nexport default App;"],"names":["_regeneratorRuntime","r","t","e","Object","prototype","n","hasOwnProperty","o","Symbol","i","iterator","a","asyncIterator","u","toStringTag","c","defineProperty","value","enumerable","configurable","writable","h","Generator","create","Error","done","method","arg","delegate","d","f","sent","_sent","dispatchException","abrupt","s","type","Context","call","wrap","GeneratorFunction","GeneratorFunctionPrototype","l","p","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","_typeof","resolve","__await","then","TypeError","next","w","tryEntries","push","m","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","slice","stop","rval","complete","finish","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","toPrimitive","String","Number","_toPrimitive","App","_ref","content","_classCallCheck","this","_content","_pageInstances","_isInitialized","_initializeApp","_initializeApp2","_callee","_context","_initializeNetworkStatus","_initialAppShell","t0","showResponseMessage","_initializeNetworkStatus2","_callee3","_this","_context3","NetworkStatus","init","registerCallback","_ref2","_callee2","isOnline","_context2","_syncData","renderPage","_x","_syncData2","_callee4","_response$data","response","currentUrl","_context4","AuthAPI","isLoggedIn","navigator","onLine","showLoading","StoryAPI","getInstance","getAllStories","error","data","stories","window","location","hash","hideLoading","_initialAppShell2","_callee5","navigationList","logoutItem","notificationItem","_context5","document","body","insertAdjacentHTML","createSkipLinkTemplate","querySelector","createElement","classList","add","innerHTML","createNotificationButtonTemplate","insertBefore","_setupLogoutButton","_setupNotificationButton","_updateAuthElements","_setupSkipLink","PWAInstaller","_initializePushNotification","console","_initializePushNotification2","_callee6","registration","subscription","_result","_context6","NotificationHelper","requestPermission","serviceWorker","getRegistration","register","scope","ready","pushManager","getSubscription","subscribePushNotification","_updateNotificationButtonState","toggleNotification","result","success","subscribed","t1","message","t2","skipLink","addEventListener","event","preventDefault","blur","mainContent","focus","scrollIntoView","_setupNotificationButton2","_callee8","notificationButton","_this2","_context8","getElementById","isSupportedBrowser","style","display","remove","_callee7","_context7","disabled","isSubscribed","button","statusText","icon","textContent","className","_this3","logoutButton","logout","requiredAuthElements","querySelectorAll","notRequiredAuthElements","element","url","baseUrl","split","includes","_renderPage","_callee9","mainElement","pageFactory","page","_context9","UrlParser","parseActiveUrlWithCombiner","_needsAuthentication","_isAuthPage","routes","render","requestAnimationFrame","afterRender","startViewTransition","setTimeout","concat"],"sourceRoot":""}